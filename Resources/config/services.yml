parameters:
    elasticsearch.client:
        base_uri: localhost:9200

services:

    naroga.search.filter.remove_prepositions:
        class: Naroga\SearchBundle\Filter\RemovePrepositionsFilter

    naroga.search.engine.pdo:
        class: Naroga\SearchBundle\Engine\PDOSearch
        arguments: [ "@doctrine.orm.default_entity_manager", "@naroga.search.filter.remove_prepositions" ]

    naroga.search.engine.elasticsearch.client:
        class: GuzzleHttp\Client
        arguments: [ "%elasticsearch.client%" ]

    naroga.search.engine.elasticsearch:
        class: Naroga\SearchBundle\Engine\ElasticSearch
        arguments: [ "localhost:9200", "file", "@jms_serializer", "@naroga.search.engine.elasticsearch.client"]

    naroga.search:
        class: Naroga\SearchBundle\Search\Search
        arguments: [ "@naroga.search.engine.elasticsearch" ]